"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),MudBlazorExtensionHelper=function(){function n(t,i,r){_classCallCheck(this,n);this.dotnet=i;this.onDone=r;this.options=t;this.mudDialogSelector=t.mudDialogSelector||".mud-dialog:not([data-mud-extended=true])";this.mudDialogHeaderSelector=t.mudDialogHeaderSelector||".mud-dialog-title";this.dialog=document.querySelector(this.mudDialogSelector);this.dialogHeader=this.dialog.querySelector(this.mudDialogHeaderSelector)}return _createClass(n,[{key:"findDialog",value:function(){return Array.from(document.querySelectorAll(this.mudDialogSelector)).filter(function(n){return!n.__extended})[0]}},{key:"init",value:function(){var n=this;this.dialog=this.dialog||this.findDialog();this.dialog?this.handleExtensions():(this.observer=new MutationObserver(function(t){var i=t.filter(function(t){return t.addedNodes&&t.addedNodes[0]===n.findDialog()});i.length&&(n.dialog=i[0].addedNodes[0],n.observer.disconnect(),n.handleExtensions())}),this.observer.observe(document,{characterData:!0,childList:!0,subtree:!0}))}},{key:"handleExtensions",value:function(){var n=this,i,t;this.dialog.__extended=!0;this.dialog.setAttribute("data-mud-extended",!0);setTimeout(function(){return n.dialog.classList.remove("mud-ex-dialog-initial")},50);this.options.animations!=null&&Array.isArray(this.options.animations)&&this.options.animations.length&&this.animate(this.options.animationDescriptions);this.options.disablePositionMargin&&this.dialog.classList.add("mud-dialog-position-fixed");this.options.fullHeight&&(i=this.options.disableSizeMarginY?"mud-dialog-height-full-no-margin":"mud-dialog-height-full",this.dialog.classList.add(i),t=this.dialog.querySelector(".mud-dialog-actions"),t&&t.classList.add("mud-dialog-actions-fixed-bottom"));this.options.fullWidth&&this.options.disableSizeMarginX&&(this.dialog.classList.remove("mud-dialog-width-full"),this.dialog.classList.add("mud-dialog-width-full-no-margin"),this.dialog.classList.contains("mud-dialog-width-false")&&this.dialog.classList.remove("mud-dialog-width-false"));this.options.buttons&&this.options.buttons.length&&this.options.buttons.forEach(function(t){if(n.dialogHeader){n.dialogHeader.insertAdjacentHTML("beforeend",t.html);var i=n.dialogHeader.querySelector("#"+t.id);i.onclick=function(){t.id.indexOf("mud-button-maximize")>=0?n.maximize():t.callBackReference.invokeMethodAsync(t.callbackName)}}});this.options.dragMode!==0&&this.dialog&&(this.dragElement(this.dialog,this.dialogHeader),this.done());this.checkResizeable()}},{key:"checkResizeable",value:function(){this.dialog.style.position="absolute";this.options.resizeable&&(this.dialog.style.resize="both",this.dialog.style.overflow="auto",this.dialog.style.maxWidth=window.innerWidth+"px",this.dialog.style.maxHeight=window.innerHeight+"px",this.dialog.style.minWidth="100px",this.dialog.style.minHeight="100px")}},{key:"maximize",value:function(){this._oldStyle?(this.dialog.style=this._oldStyle,delete this._oldStyle):(this._oldStyle=this.dialog.style,this.dialog.style.position="absolute",this.dialog.style.left="0",this.dialog.style.top="0",this.dialog.style.maxWidth=this.dialog.style.width=window.innerWidth+"px",this.dialog.style.maxHeight=this.dialog.style.height=window.innerHeight+"px");this.checkResizeable()}},{key:"done",value:function(){this.observer&&this.observer.disconnect();this.onDone&&this.onDone()}},{key:"dragElement",value:function(n,t,i){function o(n){n=n||window.event;n.preventDefault();r=n.clientX;u=n.clientY;document.onmouseup=h;document.onmousemove=s}function s(t){t=t||window.event;t.preventDefault();f=r-t.clientX;e=u-t.clientY;r=t.clientX;u=t.clientY;var h={x:i.offsetWidth-n.offsetWidth,y:(i===document.body?window.innerHeight:i.offsetHeight)-n.offsetHeight},o=n.offsetTop-e,s=n.offsetLeft-f;n.style.position="absolute";s>0&&s<h.x&&(n.style.left=s+"px");o>0&&o<h.y&&(n.style.top=o+"px");f=r-t.clientX;e=u-t.clientY;r=t.clientX;u=t.clientY}function h(){document.onmouseup=null;document.onmousemove=null}var f=0,e=0,r=0,u=0;i=i||document.body;t?(t.style.cursor="move",t.onmousedown=o):n.onmousedown=o}},{key:"animate",value:function(){this.dialog.style.animation=""+this.options.animationStyle}}]),n}();window.MudBlazorExtensions={helper:null,disposeMudExFileDisplay:function(n){window.__mudExFileDisplay&&window.__mudExFileDisplay[n]&&(window.__mudExFileDisplay[n]=null,delete window.__mudExFileDisplay[n])},initMudExFileDisplay:function(n,t){window.__mudExFileDisplay=window.__mudExFileDisplay||{};window.__mudExFileDisplay[t]={callBackReference:n}},setNextDialogOptions:function(n,t){new MudBlazorExtensionHelper(n,t,function(){MudBlazorExtensions.helper=null;delete MudBlazorExtensions.helper}).init()},addCss:function(n){var i=n,r=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");r.appendChild(t);t.type="text/css";t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))},downloadFile:function(n){var t=n.url||"data:"+n.mimeType+";base64,"+n.base64String;fetch(t).then(function(n){return n.blob()}).then(function(t){var i=window.document.createElement("a");i.href=window.URL.createObjectURL(t);i.download=n.fileName;document.body.appendChild(i);i.click();document.body.removeChild(i)})}};